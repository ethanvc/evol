常见的拦截器和顺序：
1. 监控上报和访问日志打印：日志和监控是根本，出了任何事情，日志和监控都要有，因此该拦截器要作为第一个执行的，
这样才能在结束的时候，感知到最终结果。
3. 响应编码器：对外返回保证一致性，是好协议的必备条件。一致性都保证不好的协议，一定不是好协议。
2. 异常和panic捕获。
2. IP拦截
6. 限流和熔断
5. 登录态验证
2. 参数解码器
3. 加密和解密
7. 缓存接口内容：缓存不放在拦截器的原因可能是控制类接口互相调用。
4. 业务处理器


# 日志、监控、返回
当一个调用流程，因为一个非预期的原因无法继续时，如果可以同时将原因返回，对于可观测行时非常好的。
当非预期返回时，用户期待的信息一般有：
1. 有一个可枚举的字段，比如说大家常说的错误码、HTTP CODE，用来进行代码层面的逻辑判断。
2. 一个简短的描述，告知为何无法满足预期。用户可以依据此从感性上判断出了什么问题。
3. 对于系统的维护者，还需要一个归因，用于上报到监控平台。

内因、外果。

和OpenTelemetry的区别：
整合log、trace、metric，提高易用性。
降低不必要的抽象级别,提高性能。
扩展也不太行，有一些抽象，导致其性能很差，比如span End的时候，需要做snapshot，必要性不大。
